<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>N-ZAP ’85</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.png" type="image/png">
</head>
<body>

  <button id="backButton" onclick="history.back()">Back</button>

  <div class="carousel-container">
    <h1 id="weaponTitle">N-ZAP ’85</h1>

    <div class="carousel">
      <button class="arrow left" id="prevBtn">◀</button>
      <img id="carouselImage" src="AllShooters/NZ5.png" alt="N-ZAP ’85">
      <button class="arrow right" id="nextBtn">▶</button>
    </div>

    <button id="checkButton"></button>
  </div>

  <div class="bouncing-line"></div>

  <script>
    const weapons = [
      { src: 'AllShooters/NZ5.png', name: 'N-ZAP ’85' },
      { src: 'AllShooters/NZ9.png', name: 'N-ZAP ’89' }
    ];
  </script>

  <!-- Hero Shot JS -->
  <script>
    // Wrap everything after DOM loads
    document.addEventListener('DOMContentLoaded', () => {
      const backButton = document.getElementById('backButton');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const imageElement = document.getElementById('carouselImage');
      const titleElement = document.getElementById('weaponTitle');
      const checkButton = document.getElementById('checkButton');
      const checkmarkImage = 'checkmark.png';
      let currentIndex = 0;

      function getWeaponKey() {
        return `checked-${weapons[currentIndex].name}`;
      }

      function updateCheckButton() {
        const key = getWeaponKey();
        const isChecked = localStorage.getItem(key) === 'true';
        checkButton.style.backgroundImage = isChecked ? `url('${checkmarkImage}')` : '';
      }

      // Back button works
      backButton.addEventListener('click', () => {
        window.location.href = 'shooters.html'; // Or use location.href = 'shooters.html';
      });

      // Checkmark toggle
      checkButton.addEventListener('click', () => {
        const key = getWeaponKey();
        const isChecked = localStorage.getItem(key) === 'true';
        localStorage.setItem(key, !isChecked ? 'true' : 'false');

        // Pop animation
        checkButton.classList.add('pop');
        setTimeout(() => checkButton.classList.remove('pop'), 300);

        updateCheckButton();
      });

      // Carousel function with fade
      function setImage(index) {
        const weapon = weapons[index];
        imageElement.style.opacity = 0;

        setTimeout(() => {
          imageElement.src = weapon.src;
          titleElement.textContent = weapon.name;
          imageElement.style.opacity = 1;

          prevBtn.classList.toggle('disabled', index === 0);
          nextBtn.classList.toggle('disabled', index === weapons.length - 1);

          updateCheckButton();
        }, 200);
      }

      // Arrow buttons
      prevBtn.addEventListener('click', () => {
        if (currentIndex > 0) {
          currentIndex--;
          setImage(currentIndex);
        }
      });

      nextBtn.addEventListener('click', () => {
        if (currentIndex < weapons.length - 1) {
          currentIndex++;
          setImage(currentIndex);
        }
      });

      // Keyboard arrows
      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') prevBtn.click();
        if (e.key === 'ArrowRight') nextBtn.click();
      });

      // Initialize
      imageElement.style.transition = 'opacity 0.3s ease';
      setImage(currentIndex);
    });
  </script>

</body>
</html>
