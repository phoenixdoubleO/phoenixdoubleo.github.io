
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Phoix</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>

  <!-- Loading screen -->
  <div class="loading-screen">
    <div class="loading-text">Loading<span class="dots"></span></div>
    <div class="loading-bar">
      <div class="loading-bar-fill"></div>
    </div>
  </div>

  <!-- Title -->
  <div class="top-center">
    <h1>S3 Weapon Checklist</h1>
    <p>Thanks for coming!</p>
  </div>

  <!-- 11 icon buttons -->
  <div class="button-container">
    <div class="button-row">
      <button class="icon-button" onclick="location.href='shooters.html'">
        <img src="S3Icons/image1.png" alt="Image 1">
      </button>
      <button class="icon-button"><img src="S3Icons/image2.png" alt="Image 2"></button>
      <button class="icon-button"><img src="S3Icons/image3.png" alt="Image 3"></button>
      <button class="icon-button"><img src="S3Icons/image4.png" alt="Image 4"></button>
      <button class="icon-button"><img src="S3Icons/image5.png" alt="Image 5"></button>
      <button class="icon-button"><img src="S3Icons/image6.png" alt="Image 6"></button>
    </div>
    <div class="button-row">
      <button class="icon-button"><img src="S3Icons/image7.png" alt="Image 7"></button>
      <button class="icon-button"><img src="S3Icons/image8.png" alt="Image 8"></button>
      <button class="icon-button"><img src="S3Icons/image9.png" alt="Image 9"></button>
      <button class="icon-button"><img src="S3Icons/image10.png" alt="Image 10"></button>
      <button class="icon-button"><img src="S3Icons/image11.png" alt="Image 11"></button>
    </div>
  </div>

  <!-- Bouncing yellow line -->
  <div class="bouncing-line"></div>

  <!-- JS for loading screen -->
  <script>
    const loadingScreen = document.querySelector('.loading-screen');
    const loadingBar = document.querySelector('.loading-bar-fill');
    const dots = document.querySelector('.dots');

    // Animate dots (1-3)
    let dotCount = 0;
    setInterval(() => {
      dotCount = (dotCount + 1) % 4;
      dots.textContent = '.'.repeat(dotCount);
    }, 500);

    // Full loading animation every time (~3s)
    let progress = 0;
    const interval = setInterval(() => {
      progress += 1;
      loadingBar.style.width = progress + '%';
      if (progress >= 100) {
        clearInterval(interval);
        loadingScreen.style.display = 'none';
      }
    }, 30); // 30ms per step = ~3 seconds total
  </script>


<script>
const devContent = document.getElementById('devContent'); // your dev panel container
const devPanel = document.getElementById('devPanel'); // main panel wrapper

// ===== SESSION CHECK =====
if (sessionStorage.getItem('devOpen')) {
  devPanel.style.display = 'block';
} else {
  devPanel.style.display = 'none';
}

// ===== PASSWORD OPEN LOGIC =====
let devUnlocked = sessionStorage.getItem('devOpen') === 'true';
document.addEventListener('keydown', (e) => {
  if (e.ctrlKey && e.key === 'D' && !devUnlocked) {
    const password = prompt("Enter dev password:");
    if (password === "yourpassword") {
      devPanel.style.display = 'block';
      devUnlocked = true;
      sessionStorage.setItem('devOpen', 'true');
    }
  }
});

// ===== CLOSE PANEL =====
const closeBtn = document.createElement('button');
closeBtn.textContent = 'X';
closeBtn.style.position = 'absolute';
closeBtn.style.top = '5px';
closeBtn.style.right = '5px';
closeBtn.style.cursor = 'pointer';
closeBtn.onclick = () => devPanel.style.display = 'none';
devPanel.appendChild(closeBtn);

// ===== CHANGE HISTORY =====
const changeHistory = [];

// ===== SELECTION LOGIC =====
let selectedElement = null;
function makeSelectable(el) {
  el.addEventListener('click', (e) => {
    e.stopPropagation();
    if (selectedElement) selectedElement.style.outline = '';
    selectedElement = el;
    selectedElement.style.outline = '2px dashed red';
  });
}

document.addEventListener('click', () => {
  if (selectedElement) selectedElement.style.outline = '';
  selectedElement = null;
});

// Backspace/Delete removes selected element
document.addEventListener('keydown', (e) => {
  if ((e.key === 'Backspace' || e.key === 'Delete') && selectedElement) {
    changeHistory.push(selectedElement.outerHTML); // save for revert
    selectedElement.remove();
    selectedElement = null;
    e.preventDefault();
  }
});

// ===== ADD TEXT =====
function addTextButton() {
  const btn = document.createElement('button');
  btn.textContent = 'Add Text';
  styleDevButton(btn, '#00AAFF', '#FFF');
  btn.onclick = () => {
    const el = document.createElement('div');
    el.textContent = 'New Text';
    el.style.position = 'absolute';
    el.style.left = '50px';
    el.style.top = '50px';
    el.style.color = '#FFD700';
    el.style.fontFamily = "'Splatoon1', Arial, sans-serif";
    el.style.fontWeight = 'normal';
    el.style.cursor = 'move';
    el.style.userSelect = 'none';
    document.body.appendChild(el);

    makeDraggable(el);
    makeSelectable(el);
    addTextControls(el);
    changeHistory.push(el.outerHTML);
  };
  devContent.appendChild(btn);
}

// ===== ADD IMAGE =====
function addImageButton() {
  const btn = document.createElement('button');
  btn.textContent = 'Add Image';
  styleDevButton(btn, '#AA00FF', '#FFF');
  btn.onclick = () => {
    const img = document.createElement('img');
    img.src = 'placeholder.png';
    img.style.position = 'absolute';
    img.style.left = '100px';
    img.style.top = '100px';
    img.style.width = '150px';
    img.style.height = '150px';
    img.style.cursor = 'move';
    img.style.userSelect = 'none';
    img.style.opacity = 1;
    document.body.appendChild(img);

    makeDraggable(img);
    makeSelectable(img);
    addImageControls(img);
    changeHistory.push(img.outerHTML);
  };
  devContent.appendChild(btn);
}

// ===== TEXT CONTROLS =====
function addTextControls(el) {
  const container = document.createElement('div');

  // Color picker
  const colorInput = document.createElement('input');
  colorInput.type = 'color';
  colorInput.value = '#FFD700';
  colorInput.oninput = () => el.style.color = colorInput.value;
  container.appendChild(colorInput);

  // Bold toggle
  const boldBtn = document.createElement('button');
  boldBtn.textContent = 'B';
  boldBtn.onclick = () => {
    el.style.fontWeight = el.style.fontWeight === 'bold' ? 'normal' : 'bold';
  };
  container.appendChild(boldBtn);

  // Font input
  const fontInput = document.createElement('input');
  fontInput.type = 'text';
  fontInput.placeholder = 'Font name';
  fontInput.oninput = () => el.style.fontFamily = fontInput.value;
  container.appendChild(fontInput);

  devContent.appendChild(container);
  container.inputElements = [el];
}

// ===== IMAGE CONTROLS =====
function addImageControls(img) {
  const container = document.createElement('div');

  // Width slider
  const widthInput = document.createElement('input');
  widthInput.type = 'range';
  widthInput.min = 10;
  widthInput.max = 800;
  widthInput.value = 150;
  widthInput.oninput = () => img.style.width = widthInput.value + 'px';
  container.appendChild(widthInput);

  // Height slider
  const heightInput = document.createElement('input');
  heightInput.type = 'range';
  heightInput.min = 10;
  heightInput.max = 800;
  heightInput.value = 150;
  heightInput.oninput = () => img.style.height = heightInput.value + 'px';
  container.appendChild(heightInput);

  // Rotation slider
  const rotateInput = document.createElement('input');
  rotateInput.type = 'range';
  rotateInput.min = 0;
  rotateInput.max = 360;
  rotateInput.value = 0;
  rotateInput.oninput = () => img.style.transform = `rotate(${rotateInput.value}deg)`;
  container.appendChild(rotateInput);

  // Opacity slider
  const opacityInput = document.createElement('input');
  opacityInput.type = 'range';
  opacityInput.min = 0;
  opacityInput.max = 1;
  opacityInput.step = 0.01;
  opacityInput.value = 1;
  opacityInput.oninput = () => img.style.opacity = opacityInput.value;
  container.appendChild(opacityInput);

  // Image source input
  const srcInput = document.createElement('input');
  srcInput.type = 'text';
  srcInput.placeholder = 'Image URL';
  srcInput.onchange = () => img.src = srcInput.value;
  container.appendChild(srcInput);

  devContent.appendChild(container);
  container.inputElements = [img];
}

// ===== DRAGGABLE ELEMENTS =====
function makeDraggable(el) {
  let offsetX, offsetY, isDragging = false;
  el.addEventListener('mousedown', (e) => {
    isDragging = true;
    offsetX = e.clientX - el.getBoundingClientRect().left;
    offsetY = e.clientY - el.getBoundingClientRect().top;
    el.style.zIndex = 999;
  });
  document.addEventListener('mousemove', (e) => {
    if (isDragging) {
      el.style.left = (e.clientX - offsetX) + 'px';
      el.style.top = (e.clientY - offsetY) + 'px';
    }
  });
  document.addEventListener('mouseup', () => isDragging = false);
}

// ===== DEV BUTTON STYLE HELPER =====
function styleDevButton(btn, bg, color) {
  btn.style.margin = '5px';
  btn.style.padding = '5px 10px';
  btn.style.backgroundColor = bg;
  btn.style.color = color;
  btn.style.border = 'none';
  btn.style.cursor = 'pointer';
  btn.style.borderRadius = '5px';
}

// ===== REVERT LAST CHANGE =====
const revertBtn = document.createElement('button');
revertBtn.textContent = 'Revert Last Change';
revertBtn.onclick = () => {
  if (changeHistory.length === 0) return alert('No changes to revert');
  const last = changeHistory.pop();
  const tempDiv = document.createElement('div');
  tempDiv.innerHTML = last;
  document.body.appendChild(tempDiv.firstChild);
};
devContent.appendChild(revertBtn);

// ===== INITIALIZE =====
addTextButton();
addImageButton();
</script>

</body>
</html>
