
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Phoix</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>

  <!-- Loading screen -->
  <div class="loading-screen">
    <div class="loading-text">Loading<span class="dots"></span></div>
    <div class="loading-bar">
      <div class="loading-bar-fill"></div>
    </div>
  </div>

  <!-- Title -->
  <div class="top-center">
    <h1>S3 Weapon Checklist</h1>
    <p>Thanks for coming!</p>
  </div>

  <!-- 11 icon buttons -->
  <div class="button-container">
    <div class="button-row">
      <button class="icon-button" onclick="location.href='shooters.html'">
        <img src="S3Icons/image1.png" alt="Image 1">
      </button>
      <button class="icon-button"><img src="S3Icons/image2.png" alt="Image 2"></button>
      <button class="icon-button"><img src="S3Icons/image3.png" alt="Image 3"></button>
      <button class="icon-button"><img src="S3Icons/image4.png" alt="Image 4"></button>
      <button class="icon-button"><img src="S3Icons/image5.png" alt="Image 5"></button>
      <button class="icon-button"><img src="S3Icons/image6.png" alt="Image 6"></button>
    </div>
    <div class="button-row">
      <button class="icon-button"><img src="S3Icons/image7.png" alt="Image 7"></button>
      <button class="icon-button"><img src="S3Icons/image8.png" alt="Image 8"></button>
      <button class="icon-button"><img src="S3Icons/image9.png" alt="Image 9"></button>
      <button class="icon-button"><img src="S3Icons/image10.png" alt="Image 10"></button>
      <button class="icon-button"><img src="S3Icons/image11.png" alt="Image 11"></button>
    </div>
  </div>

  <!-- Bouncing yellow line -->
  <div class="bouncing-line"></div>

  <!-- JS for loading screen -->
  <script>
    const loadingScreen = document.querySelector('.loading-screen');
    const loadingBar = document.querySelector('.loading-bar-fill');
    const dots = document.querySelector('.dots');

    // Animate dots (1-3)
    let dotCount = 0;
    setInterval(() => {
      dotCount = (dotCount + 1) % 4;
      dots.textContent = '.'.repeat(dotCount);
    }, 500);

    // Full loading animation every time (~3s)
    let progress = 0;
    const interval = setInterval(() => {
      progress += 1;
      loadingBar.style.width = progress + '%';
      if (progress >= 100) {
        clearInterval(interval);
        loadingScreen.style.display = 'none';
      }
    }, 30); // 30ms per step = ~3 seconds total
  </script>


<script>
/* ===== DEV PANEL SCRIPT ===== */
(() => {
  const PANEL_KEY = 'devPanelUnlocked'; // sessionStorage key
  let devPanel, devContent;
  let changeHistory = [];

  function createDevPanel() {
    if (document.getElementById('devPanel')) return; // Prevent multiple panels

    devPanel = document.createElement('div');
    devPanel.id = 'devPanel';
    devPanel.style.position = 'fixed';
    devPanel.style.top = '10px';
    devPanel.style.right = '10px';
    devPanel.style.width = '300px';
    devPanel.style.height = '400px';
    devPanel.style.backgroundColor = '#1e2228';
    devPanel.style.color = '#FFD700';
    devPanel.style.border = '2px solid #FFD700';
    devPanel.style.zIndex = 9999;
    devPanel.style.overflowY = 'auto';
    devPanel.style.padding = '10px';
    devPanel.style.fontFamily = 'Arial, sans-serif';
    devPanel.style.boxShadow = '0 0 15px #FFD700';

    // Close button
    const closeBtn = document.createElement('button');
    closeBtn.textContent = 'X';
    closeBtn.style.float = 'right';
    closeBtn.style.background = '#FF5555';
    closeBtn.style.color = '#FFF';
    closeBtn.style.border = 'none';
    closeBtn.style.cursor = 'pointer';
    closeBtn.style.fontWeight = 'bold';
    closeBtn.onclick = () => devPanel.remove();
    devPanel.appendChild(closeBtn);

    // Title
    const title = document.createElement('h2');
    title.textContent = 'Dev Panel';
    title.style.textAlign = 'center';
    devPanel.appendChild(title);

    // Content container
    devContent = document.createElement('div');
    devPanel.appendChild(devContent);

    document.body.appendChild(devPanel);

    // Add main control buttons
    addExportButton();
    addRevertButton();
    addTextButton();
    addImageButton();
  }

  /* ===== DEV CONTROLS ===== */
  function addExportButton() {
    const exportBtn = document.createElement('button');
    exportBtn.textContent = 'Export HTML';
    styleDevButton(exportBtn, '#FFD700', '#000');
    exportBtn.onclick = () => {
      const htmlContent = document.documentElement.outerHTML;
      const newWindow = window.open('', '_blank');
      newWindow.document.write(`
        <html>
          <head>
            <title>Exported HTML</title>
            <style>
              body { background: #2a2f35; color: #FFD700; font-family: Arial, sans-serif; padding: 20px; }
              textarea { width: 100%; height: 90vh; background: #1e2228; color: #FFD700; font-family: monospace; font-size: 14px; padding: 10px; border: none; }
            </style>
          </head>
          <body>
            <h1>Copy your HTML below:</h1>
            <textarea id="exportArea" readonly>${htmlContent.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</textarea>
            <script>
              const textarea = document.getElementById('exportArea');
              textarea.focus();
              textarea.select();
            <\/script>
          </body>
        </html>
      `);
      newWindow.document.close();
    };
    devContent.appendChild(exportBtn);
  }

  function addRevertButton() {
    const revertBtn = document.createElement('button');
    revertBtn.textContent = 'Revert Last Change';
    styleDevButton(revertBtn, '#FF5555', '#FFF');
    revertBtn.onclick = () => {
      if (changeHistory.length === 0) {
        alert('No changes to revert!');
        return;
      }
      const lastChange = changeHistory.pop();

      if (lastChange.type === 'text') {
        lastChange.el.textContent = lastChange.oldValue.text;
        lastChange.el.style.color = lastChange.oldValue.color;
        lastChange.el.style.fontFamily = lastChange.oldValue.font;
        lastChange.el.style.fontWeight = lastChange.oldValue.bold ? 'bold' : 'normal';
        if (lastChange.oldValue.left) {
          lastChange.el.style.position = 'absolute';
          lastChange.el.style.left = lastChange.oldValue.left;
          lastChange.el.style.top = lastChange.oldValue.top;
        }
      } else if (lastChange.type === 'image') {
        lastChange.el.src = lastChange.oldValue.src;
        lastChange.el.style.transform = `rotate(${lastChange.oldValue.rotate || 0}deg) scale(${lastChange.oldValue.scale || 1})`;
        lastChange.el.style.opacity = lastChange.oldValue.opacity || 1;
        if (lastChange.oldValue.left) {
          lastChange.el.style.position = 'absolute';
          lastChange.el.style.left = lastChange.oldValue.left;
          lastChange.el.style.top = lastChange.oldValue.top;
        }
      }
    };
    devContent.appendChild(revertBtn);
  }

  function addTextButton() {
    const textBtn = document.createElement('button');
    textBtn.textContent = 'Add Text';
    styleDevButton(textBtn, '#00AAFF', '#FFF');

    textBtn.onclick = () => {
      const el = document.createElement('div');
      el.textContent = 'New Text';
      el.style.position = 'absolute';
      el.style.left = '50px';
      el.style.top = '50px';
      el.style.color = '#FFD700';
      el.style.fontFamily = 'Arial, sans-serif';
      el.style.fontWeight = 'normal';
      el.style.cursor = 'move';
      document.body.appendChild(el);

      makeDraggable(el);
      addTextControls(el);
    };

    devContent.appendChild(textBtn);
  }

  function addImageButton() {
    const imgBtn = document.createElement('button');
    imgBtn.textContent = 'Add Image';
    styleDevButton(imgBtn, '#AA00FF', '#FFF');

    imgBtn.onclick = () => {
      const img = document.createElement('img');
      img.src = 'placeholder.png';
      img.style.position = 'absolute';
      img.style.left = '100px';
      img.style.top = '100px';
      img.style.width = '150px';
      img.style.height = '150px';
      img.style.cursor = 'move';
      document.body.appendChild(img);

      makeDraggable(img);
      addImageControls(img);
    };

    devContent.appendChild(imgBtn);
  }

  function styleDevButton(btn, bg, color) {
    btn.style.width = '100%';
    btn.style.marginTop = '10px';
    btn.style.padding = '8px';
    btn.style.backgroundColor = bg;
    btn.style.color = color;
    btn.style.border = 'none';
    btn.style.borderRadius = '5px';
    btn.style.cursor = 'pointer';
  }

  function makeDraggable(el) {
    let offsetX, offsetY;
    el.addEventListener('mousedown', e => {
      offsetX = e.clientX - el.offsetLeft;
      offsetY = e.clientY - el.offsetTop;
      function move(e) {
        el.style.left = e.clientX - offsetX + 'px';
        el.style.top = e.clientY - offsetY + 'px';
      }
      function up() {
        document.removeEventListener('mousemove', move);
        document.removeEventListener('mouseup', up);
      }
      document.addEventListener('mousemove', move);
      document.addEventListener('mouseup', up);
    });
  }

  function addTextControls(el) {
    const container = document.createElement('div');

    const input = document.createElement('input');
    input.type = 'text';
    input.value = el.textContent;
    input.style.width = '100%';
    container.appendChild(input);

    const colorInput = document.createElement('input');
    colorInput.type = 'color';
    colorInput.value = '#FFD700';
    colorInput.style.width = '100%';
    container.appendChild(colorInput);

    const boldBtn = document.createElement('button');
    boldBtn.textContent = 'Bold';
    boldBtn.style.width = '100%';
    boldBtn.style.marginTop = '5px';
    container.appendChild(boldBtn);

    devContent.appendChild(container);

    input.addEventListener('input', () => {
      changeHistory.push({
        type: 'text',
        el: el,
        oldValue: {
          text: el.textContent,
          color: el.style.color,
          font: el.style.fontFamily,
          bold: el.style.fontWeight === 'bold',
          left: el.style.left,
          top: el.style.top
        }
      });
      el.textContent = input.value;
    });

    colorInput.addEventListener('input', () => {
      changeHistory.push({
        type: 'text',
        el: el,
        oldValue: { color: el.style.color }
      });
      el.style.color = colorInput.value;
    });

    boldBtn.addEventListener('click', () => {
      changeHistory.push({
        type: 'text',
        el: el,
        oldValue: { bold: el.style.fontWeight === 'bold' }
      });
      el.style.fontWeight = el.style.fontWeight === 'bold' ? 'normal' : 'bold';
    });
  }

  function addImageControls(img) {
    const container = document.createElement('div');

    const srcInput = document.createElement('input');
    srcInput.type = 'text';
    srcInput.value = img.src;
    srcInput.style.width = '100%';
    container.appendChild(srcInput);

    const rotateInput = document.createElement('input');
    rotateInput.type = 'number';
    rotateInput.value = 0;
    rotateInput.placeholder = 'Rotate (deg)';
    rotateInput.style.width = '100%';
    container.appendChild(rotateInput);

    const scaleInput = document.createElement('input');
    scaleInput.type = 'number';
    scaleInput.value = 1;
    scaleInput.step = 0.1;
    scaleInput.placeholder = 'Scale';
    scaleInput.style.width = '100%';
    container.appendChild(scaleInput);

    const opacityInput = document.createElement('input');
    opacityInput.type = 'number';
    opacityInput.value = 1;
    opacityInput.step = 0.05;
    opacityInput.min = 0;
    opacityInput.max = 1;
    opacityInput.placeholder = 'Opacity';
    opacityInput.style.width = '100%';
    container.appendChild(opacityInput);

    devContent.appendChild(container);

    srcInput.addEventListener('input', () => {
      changeHistory.push({ type: 'image', el: img, oldValue: { src: img.src } });
      img.src = srcInput.value;
    });

    rotateInput.addEventListener('input', () => {
      changeHistory.push({ type: 'image', el: img, oldValue: { rotate: parseFloat(img.style.transform.replace(/[^-?\d.]/g, '')) || 0 } });
      img.style.transform = `rotate(${rotateInput.value}deg) scale(${scaleInput.value})`;
    });

    scaleInput.addEventListener('input', () => {
      changeHistory.push({ type: 'image', el: img, oldValue: { scale: parseFloat(img.style.transform.replace(/[^-?\d.]/g, '')) || 1 } });
      img.style.transform = `rotate(${rotateInput.value}deg) scale(${scaleInput.value})`;
    });

    opacityInput.addEventListener('input', () => {
      changeHistory.push({ type: 'image', el: img, oldValue: { opacity: img.style.opacity } });
      img.style.opacity = opacityInput.value;
    });
  }

  /* ===== PANEL ACTIVATION ===== */
  document.addEventListener('keydown', (e) => {
    if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'D') {
      if (!sessionStorage.getItem(PANEL_KEY)) {
        const password = prompt('Enter dev password:');
        if (password === 'yourpassword') {
          sessionStorage.setItem(PANEL_KEY, 'true');
          createDevPanel(); // Panel opens now
        }
      } else {
        createDevPanel(); // Already unlocked: panel opens
      }
    }
  });
})();
</script>

</body>
</html>
